{"version":3,"sources":["load-more-button.js"],"names":["$","document","ready","click","e","self","itemSelector","data","$allItems","itemsPerPage","maxDisplayedItemCount","viewMoreLink","totalItemCount","linkText","$hiddenItems","each","index","removeClass","visibleItems","visibleItemsCount","length","children","text","attr","off","preventDefault","hide"],"mappings":";;AAAAA,EAAEC,QAAF,EAAYC,KAAZ,CAAkB,YAAW;AAC3B,MAAIC,QAAQ,CAAZ;AACAH,IAAE,eAAF,EAAmBG,KAAnB,CAAyB,UAASC,CAAT,EAAY;AACnCD,YAAQA,QAAQ,CAAhB;AACA,QAAME,OAAOL,EAAE,IAAF,CAAb;AACA,QAAMM,eAAeD,KAAKE,IAAL,CAAU,eAAV,CAArB;AACA,QAAMC,YAAYR,EAAEM,YAAF,CAAlB;;AAEA,QAAMG,eAAeJ,KAAKE,IAAL,CAAU,WAAV,CAArB;AACA,QAAMG,wBAAwBL,KAAKE,IAAL,CAAU,gBAAV,CAA9B;AACA,QAAMI,eAAeN,KAAKE,IAAL,CAAU,eAAV,CAArB;AACA,QAAMK,iBAAiBP,KAAKE,IAAL,CAAU,YAAV,CAAvB;AACA,QAAMM,WAAWR,KAAKE,IAAL,CAAU,WAAV,CAAjB;;AAEA,QAAMO,eAAed,EAAKM,YAAL,aAArB;;AAEAQ,iBAAaC,IAAb,CAAkB,UAASC,KAAT,EAAgB;AAChC,UAAIA,QAAQP,YAAZ,EAA0B;AACxBT,UAAE,IAAF,EAAQiB,WAAR,CAAoB,QAApB;AACD;AACF,KAJD;;AAMA,QAAMC,eAAelB,EAAKM,YAAL,cAArB;AACA,QAAMa,oBAAoBD,aAAaE,MAAvC;;AAEA,QAAID,sBAAsBT,qBAAtB,IAA+CS,oBAAoBP,cAAnE,IAAqFD,YAAzF,EAAuG;AACrG,UAAIE,QAAJ,EAAc;AACZR,aAAKgB,QAAL,GAAgBC,IAAhB,CAAqBT,QAArB;AACD;AACDR,WAAKkB,IAAL,CAAU,MAAV,EAAkBZ,YAAlB;AACAN,WAAKmB,GAAL,CAAS,OAAT;AACApB,QAAEqB,cAAF;AACD,KAPD,MAOO,IAAIN,sBAAsBX,UAAUY,MAApC,EAA4C;AACjDf,WAAKqB,IAAL;AACD;AACF,GAjCD;AAkCD,CApCD","file":"load-more-button.js","sourcesContent":["$(document).ready(function() {\r\n  let click = 0;\r\n  $('.js-load-more').click(function(e) {\r\n    click = click + 1;\r\n    const self = $(this);\r\n    const itemSelector = self.data('item-selector');\r\n    const $allItems = $(itemSelector);\r\n\r\n    const itemsPerPage = self.data('item-page');\r\n    const maxDisplayedItemCount = self.data('max-item-count');\r\n    const viewMoreLink = self.data('redirect-link');\r\n    const totalItemCount = self.data('item-count');\r\n    const linkText = self.data('link-text');\r\n\r\n    const $hiddenItems = $(`${itemSelector}.hidden`);\r\n\r\n    $hiddenItems.each(function(index) {\r\n      if (index < itemsPerPage) {\r\n        $(this).removeClass('hidden');\r\n      }\r\n    });\r\n\r\n    const visibleItems = $(`${itemSelector}:visible`);\r\n    const visibleItemsCount = visibleItems.length;\r\n\r\n    if (visibleItemsCount === maxDisplayedItemCount && visibleItemsCount < totalItemCount && viewMoreLink) {\r\n      if (linkText) {\r\n        self.children().text(linkText);\r\n      }\r\n      self.attr('href', viewMoreLink);\r\n      self.off('click');\r\n      e.preventDefault();\r\n    } else if (visibleItemsCount === $allItems.length) {\r\n      self.hide();\r\n    }\r\n  });\r\n});\r\n"]}